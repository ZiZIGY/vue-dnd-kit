var Fe=Object.defineProperty;var Te=(n,e,t)=>e in n?Fe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var V=(n,e,t)=>Te(n,typeof e!="symbol"?e+"":e,t);import{ah as Re,ai as Ve,q as Ke,aj as $e,ak as Ze,al as Y,am as be,h as L,D as Z,k as S,p as F,v as ue,$ as ce,d as de,c as z,e as ee,o as P,N as X,F as ve,B as ge,b as j,H as Pe,an as qe,ao as re,_ as W,w as O,T as ae,j as se,r as me,Z as Me,a0 as Se,n as fe,G,a as ie,t as Oe,ap as Be,ag as Ee}from"./chunks/framework.C8RrNXG1.js";const k=class k{};V(k,"remove",(e,t)=>{if(!e||t===void 0)return;const[r]=e.splice(t,1);return r}),V(k,"insert",(e,t,r)=>{!e||t===void 0||e.splice(t,0,r)}),V(k,"move",(e,t,r,a)=>{if(!e||!r||t===void 0||a===void 0)return;const l=k.remove(e,t);k.insert(r,a,l)}),V(k,"swap",(e,t,r,a)=>{if(!e||!r||t===void 0||a===void 0)return;const l=e[t],o=r[a];e[t]=o,r[a]=l}),V(k,"copy",(e,t,r,a)=>{if(!e||t===void 0||!r||a===void 0)return;const l=e[t];k.insert(r,a,l)}),V(k,"applyTransfer",e=>{var a,l,o,u,s,c,p;const t=e.hovered.element.value,r=e.hovered.zone.value;if(t){const v=(l=(a=e.elementsMap.value.get(t))==null?void 0:a.data)==null?void 0:l.source,i=(u=(o=e.elementsMap.value.get(t))==null?void 0:o.data)==null?void 0:u.index,g=e.draggingElements.value.values().next().value,m=(s=g==null?void 0:g.data)==null?void 0:s.index,d=m!==void 0&&i!==void 0&&m>i?1:-1;Array.from(e.draggingElements.value.values()).sort((h,E)=>{var y,x;return d*((((y=h.data)==null?void 0:y.index)||0)-(((x=E.data)==null?void 0:x.index)||0))}).forEach(h=>{var E,y;return k.move((E=h.data)==null?void 0:E.source,(y=h.data)==null?void 0:y.index,v,i)})}else if(r){const v=(p=(c=e.zonesMap.value.get(r))==null?void 0:c.data)==null?void 0:p.source,i=v==null?void 0:v.length;Array.from(e.draggingElements.value.values()).sort((m,d)=>{var f,h;return(((f=d.data)==null?void 0:f.index)||0)-(((h=m.data)==null?void 0:h.index)||0)}).forEach(m=>{var d,f;return k.move((d=m.data)==null?void 0:d.source,(f=m.data)==null?void 0:f.index,v,i)})}}),V(k,"applyCopy",e=>{var a,l,o,u,s,c,p;const t=e.hovered.element.value,r=e.hovered.zone.value;if(t){const v=(l=(a=e.elementsMap.value.get(t))==null?void 0:a.data)==null?void 0:l.source,i=(u=(o=e.elementsMap.value.get(t))==null?void 0:o.data)==null?void 0:u.index,g=e.draggingElements.value.values().next().value,m=(s=g==null?void 0:g.data)==null?void 0:s.index,d=m!==void 0&&i!==void 0&&m>i?1:-1;Array.from(e.draggingElements.value.values()).sort((h,E)=>{var y,x;return d*((((y=h.data)==null?void 0:y.index)||0)-(((x=E.data)==null?void 0:x.index)||0))}).forEach(h=>{var E,y;return k.copy((E=h.data)==null?void 0:E.source,(y=h.data)==null?void 0:y.index,v,i)})}else if(r){const v=(p=(c=e.zonesMap.value.get(r))==null?void 0:c.data)==null?void 0:p.source,i=v==null?void 0:v.length;Array.from(e.draggingElements.value.values()).sort((m,d)=>{var f,h;return(((f=d.data)==null?void 0:f.index)||0)-(((h=m.data)==null?void 0:h.index)||0)}).forEach(m=>{var d,f;return k.copy((d=m.data)==null?void 0:d.source,(f=m.data)==null?void 0:f.index,v,i)})}}),V(k,"applySwap",e=>{var a,l,o,u,s,c,p,v;const t=e.hovered.element.value,r=e.hovered.zone.value;if(t&&e.draggingElements.value.size===1){const i=e.draggingElements.value.values().next().value;k.swap((a=i==null?void 0:i.data)==null?void 0:a.source,(l=i==null?void 0:i.data)==null?void 0:l.index,(u=(o=e.elementsMap.value.get(t))==null?void 0:o.data)==null?void 0:u.source,(c=(s=e.elementsMap.value.get(t))==null?void 0:s.data)==null?void 0:c.index)}else if(r){const i=(v=(p=e.zonesMap.value.get(r))==null?void 0:p.data)==null?void 0:v.source,g=i==null?void 0:i.length;Array.from(e.draggingElements.value.values()).sort((d,f)=>{var h,E;return(((h=f.data)==null?void 0:h.index)||0)-(((E=d.data)==null?void 0:E.index)||0)}).forEach(d=>{var f,h;return k.move((f=d.data)==null?void 0:f.source,(h=d.data)==null?void 0:h.index,i,g)})}}),V(k,"applyRemove",e=>{Array.from(e.draggingElements.value.values()).sort((r,a)=>{var l,o;return(((l=a.data)==null?void 0:l.index)||0)-(((o=r.data)==null?void 0:o.index)||0)}).forEach(r=>{var a,l;(a=r.data)!=null&&a.source&&((l=r.data)==null?void 0:l.index)!==void 0&&k.remove(r.data.source,r.data.index)})}),V(k,"applyInsert",(e,t)=>{var l,o,u,s,c,p;const r=e.hovered.element.value,a=e.hovered.zone.value;if(r&&t.length>0){const v=(o=(l=e.elementsMap.value.get(r))==null?void 0:l.data)==null?void 0:o.source,i=(s=(u=e.elementsMap.value.get(r))==null?void 0:u.data)==null?void 0:s.index;t.forEach(g=>{k.insert(v,i,g)})}else if(a){const v=(p=(c=e.zonesMap.value.get(a))==null?void 0:c.data)==null?void 0:p.source,i=v==null?void 0:v.length;t.forEach(g=>{k.insert(v,i,g)})}});let oe=k;function He(n){return $e()?(Ze(n),!0):!1}function Ce(n){let e=!1,t;const r=Re(!0);return(...a)=>(e||(t=r.run(()=>n(...a)),e=!0),t)}const Ne=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Ge=Object.prototype.toString,Ue=n=>Ge.call(n)==="[object Object]",le=()=>{};function Ye(n,e){function t(...r){return new Promise((a,l)=>{Promise.resolve(n(()=>e.apply(this,r),{fn:e,thisArg:this,args:r})).then(a).catch(l)})}return t}function je(...n){let e=0,t,r=!0,a=le,l,o,u,s,c;!Ve(n[0])&&typeof n[0]=="object"?{delay:o,trailing:u=!0,leading:s=!0,rejectOnCancel:c=!1}=n[0]:[o,u=!0,s=!0,c=!1]=n;const p=()=>{t&&(clearTimeout(t),t=void 0,a(),a=le)};return i=>{const g=Y(o),m=Date.now()-e,d=()=>l=i();return p(),g<=0?(e=Date.now(),d()):(m>g&&(s||!r)?(e=Date.now(),d()):u&&(l=new Promise((f,h)=>{a=c?h:f,t=setTimeout(()=>{e=Date.now(),r=!0,f(d()),p()},Math.max(0,g-m))})),!s&&!t&&(t=setTimeout(()=>r=!0,g)),r=!1,l)}}function te(n){return Array.isArray(n)?n:[n]}function We(n,e=200,t=!1,r=!0,a=!1){return Ye(je(e,t,r,a),n)}function Xe(n,e,t){return Ke(n,e,{...t,immediate:!0})}const Ae=Ne?window:void 0;function Je(n){var e;const t=Y(n);return(e=t==null?void 0:t.$el)!=null?e:t}function Q(...n){const e=[],t=()=>{e.forEach(u=>u()),e.length=0},r=(u,s,c,p)=>(u.addEventListener(s,c,p),()=>u.removeEventListener(s,c,p)),a=L(()=>{const u=te(Y(n[0])).filter(s=>s!=null);return u.every(s=>typeof s!="string")?u:void 0}),l=Xe(()=>{var u,s;return[(s=(u=a.value)==null?void 0:u.map(c=>Je(c)))!=null?s:[Ae].filter(c=>c!=null),te(Y(a.value?n[1]:n[0])),te(S(a.value?n[2]:n[1])),Y(a.value?n[3]:n[2])]},([u,s,c,p])=>{if(t(),!(u!=null&&u.length)||!(s!=null&&s.length)||!(c!=null&&c.length))return;const v=Ue(p)?{...p}:p;e.push(...u.flatMap(i=>s.flatMap(g=>c.map(m=>r(i,g,m,v)))))},{flush:"post"}),o=()=>{l(),t()};return He(t),o}const Qe={ctrl:"control",command:"meta",cmd:"meta",option:"alt",up:"arrowup",down:"arrowdown",left:"arrowleft",right:"arrowright"};function et(n={}){const{reactive:e=!1,target:t=Ae,aliasMap:r=Qe,passive:a=!0,onEventFired:l=le}=n,o=be(new Set),u={toJSON(){return{}},current:o},s=e?be(u):u,c=new Set,p=new Set;function v(d,f){d in s&&(e?s[d]=f:s[d].value=f)}function i(){o.clear();for(const d of p)v(d,!1)}function g(d,f){var h,E;const y=(h=d.key)==null?void 0:h.toLowerCase(),K=[(E=d.code)==null?void 0:E.toLowerCase(),y].filter(Boolean);y&&(f?o.add(y):o.delete(y));for(const M of K)p.add(M),v(M,f);y==="meta"&&!f?(c.forEach(M=>{o.delete(M),v(M,!1)}),c.clear()):typeof d.getModifierState=="function"&&d.getModifierState("Meta")&&f&&[...o,...K].forEach(M=>c.add(M))}Q(t,"keydown",d=>(g(d,!0),l(d)),{passive:a}),Q(t,"keyup",d=>(g(d,!1),l(d)),{passive:a}),Q("blur",i,{passive:a}),Q("focus",i,{passive:a});const m=new Proxy(s,{get(d,f,h){if(typeof f!="string")return Reflect.get(d,f,h);if(f=f.toLowerCase(),f in r&&(f=r[f]),!(f in s))if(/[+_-]/.test(f)){const y=f.split(/[+_-]/g).map(x=>x.trim());s[f]=L(()=>y.map(x=>Y(m[x])).every(Boolean))}else s[f]=Z(!1);const E=Reflect.get(d,f,h);return e?Y(E):E}});return m}const q=Ce(()=>{const n=F(new Map),e=L(()=>n.value.size>0),t={component:F(null),ref:Z(null)},r=F(new Map),a=F(new Map),l=F(new Map),o=F(new Set),u=F(new Set),s=new IntersectionObserver(M=>{M.forEach(b=>u.value[b.isIntersecting?"add":"delete"](b.target))}),c=new IntersectionObserver(M=>{M.forEach(b=>o.value[b.isIntersecting?"add":"delete"](b.target))}),p=(M,b)=>{M==="add"?s.observe(b):(s.unobserve(b),u.value.delete(b))},v=(M,b)=>{M==="add"?c.observe(b):(c.unobserve(b),o.value.delete(b))},i={start:Z(null),current:Z(null),offset:{percent:Z(null),pixel:Z(null)}},{w:g,s:m,a:d,d:f,ctrl:h,shift:E,alt:y,meta:x}=et(),K={zone:Z(null),element:Z(null)};return{draggingElements:n,isDragging:e,activeContainer:t,elementsMap:r,selectedElementsMap:a,zonesMap:l,visibleZones:o,visibleElements:u,pointerPosition:i,keyboard:{w:g,s:m,a:d,d:f,ctrl:h,shift:E,alt:y,meta:x},hovered:K,handleDragElementIntersection:p,handleDropZoneIntersection:v}}),Ie=()=>{const n=F(null),{draggingElements:e,pointerPosition:t,isDragging:r,activeContainer:a}=q();return ue(()=>{a.ref=n}),ce(()=>{a.ref.value=null}),{elementRef:n,draggingElements:e,pointerPosition:t,isDragging:r}},tt=["innerHTML"],nt=de({__name:"DefaultOverlay",setup(n){const{elementRef:e,pointerPosition:t,isDragging:r,draggingElements:a}=Ie(),l=L(()=>{var o,u,s,c;return{transform:`translate3d(${(((o=t.current.value)==null?void 0:o.x)??0)-(((u=t.offset.pixel.value)==null?void 0:u.x)??0)}px, ${(((s=t.current.value)==null?void 0:s.y)??0)-(((c=t.offset.pixel.value)==null?void 0:c.y)??0)}px, 0)`,zIndex:1e3,position:"fixed",top:0,left:0,transition:"0.3s cubic-bezier(0.165, 0.84, 0.44, 1)"}});return(o,u)=>S(r)?(P(),z("div",{key:0,ref_key:"elementRef",ref:e,style:X(l.value)},[(P(!0),z(ve,null,ge(S(a),([s,c])=>{var p,v;return P(),z("div",{key:c.id,innerHTML:c.initialHTML,style:X({width:`${(p=c.initialRect)==null?void 0:p.width}px`,height:`${(v=c.initialRect)==null?void 0:v.height}px`})},null,12,tt)}),128))],4)):ee("",!0)}}),rt=de({__name:"DragOverlay",setup(n){const{activeContainer:e}=q(),t=L(()=>e.component.value??nt);return(r,a)=>(P(),j(Pe(t.value)))}}),ke=(n,e)=>n.x<e.x+e.width&&n.x+n.width>e.x&&n.y<e.y+e.height&&n.y+n.height>e.y,N=n=>{if(!n)return{x:0,y:0,width:0,height:0,bottom:0,left:0,right:0,top:0};const e=n.getBoundingClientRect();return{bottom:e.bottom,left:e.left,right:e.right,top:e.top,x:e.x,y:e.y,width:e.width,height:e.height}},ne=n=>({x:n.x+n.width/2,y:n.y+n.height/2}),at=(n,e)=>{const t=N(n);return{pixel:{x:e.x-t.x,y:e.y-t.y},percent:{x:(e.x-t.x)/t.width*100,y:(e.y-t.y)/t.height*100}}},we=(n,e)=>{const t=e.x-n.x,r=e.y-n.y;return Math.sqrt(t*t+r*r)},xe=(n,e)=>{const t=Math.max(0,Math.min(n.x+n.width,e.x+e.width)-Math.max(n.x,e.x)),r=Math.max(0,Math.min(n.y+n.height,e.y+e.height)-Math.max(n.y,e.y)),a=t*r,l=n.width*n.height,o=e.width*e.height;return(a/l*100+a/o*100)/2},_e="data-vue-dnd-kit-draggable",I=n=>{n.preventDefault()},st=n=>{const{elementsMap:e,draggingElements:t,hovered:r,selectedElementsMap:a,isDragging:l,visibleElements:o,handleDragElementIntersection:u}=q(),s=F(null),c=L(()=>o.value.has(s.value)&&r.element.value===s.value),p=Z((n==null?void 0:n.id)||qe()),v=L(()=>!s.value||!o.value.has(s.value)?!1:t.value.has(s.value)),i=L(()=>{if(!s.value||!l.value||!o.value.has(s.value))return!1;const d=e.value.get(s.value);return d!=null&&d.groups.length?!Array.from(t.value.entries()).some(([f,h])=>h.groups.length?!h.groups.some(E=>d.groups.includes(E)):!1):!0});return{elementRef:s,registerElement:()=>{if(!s.value)throw new Error("ElementRef is not set");e.value.set(s.value,{node:s.value,groups:(n==null?void 0:n.groups)??[],layer:(n==null?void 0:n.layer)??null,defaultLayer:(n==null?void 0:n.layer)??null,events:(n==null?void 0:n.events)??{},data:(n==null?void 0:n.data)??null,id:p.value}),u("add",s.value),s.value.addEventListener("dragstart",I),s.value.addEventListener("drag",I),s.value.setAttribute(_e,"true"),s.value.setAttribute("draggable","false")},unregisterElement:()=>{s.value&&(e.value.delete(s.value),a.value.delete(s.value),s.value.removeEventListener("dragstart",I),s.value.removeEventListener("drag",I),s.value.removeAttribute(_e),s.value.removeAttribute("draggable"))},isDragging:v,isOvered:c,isAllowed:i,id:p}},U=(n,e)=>n?e.contains(n):!1,it=n=>{var p,v;const e=N(n.activeContainer.ref.value),t=ne(e),r=((p=n.pointerPosition.current.value)==null?void 0:p.x)??0,a=((v=n.pointerPosition.current.value)==null?void 0:v.y)??0,o=!(e&&r>=e.x&&r<=e.x+e.width&&a>=e.y&&a<=e.y+e.height),u=Array.from(n.draggingElements.value.keys()),s=Array.from(n.visibleElements.value.entries()).filter(([i,g])=>{if(!i)return!1;const m=N(i);return m&&e&&ke(m,e)}).map(([i,g])=>{const m=N(i),d=ne(m),f=r>=m.x&&r<=m.x+m.width&&a>=m.y&&a<=m.y+m.height,h=xe(m,e),E=we(t,d);let y=0;for(const[x,K]of n.visibleElements.value.entries())x!==i&&x&&i&&U(i,x)&&y++;return{element:g,node:i,isPointerInElement:f,overlapPercent:h,depth:y,centerDistance:E}}).sort((i,g)=>{if(!o){if(i.isPointerInElement&&g.isPointerInElement)return g.depth-i.depth;if(i.isPointerInElement!==g.isPointerInElement)return i.isPointerInElement?-1:1}return Math.abs(i.overlapPercent-g.overlapPercent)<=1?i.centerDistance-g.centerDistance:g.overlapPercent-i.overlapPercent}),c=Array.from(n.visibleZones.value.entries()).filter(([i,g])=>{if(!i||u.some(d=>d&&U(i,d)))return!1;const m=N(i);return m&&e&&ke(m,e)}).map(([i,g])=>{const m=N(i),d=ne(m),f=r>=m.x&&r<=m.x+m.width&&a>=m.y&&a<=m.y+m.height,h=xe(m,e),E=we(t,d);let y=0;for(const[x,K]of n.visibleZones.value.entries())x!==i&&x&&i&&U(i,x)&&y++;return{zone:g,node:i,isPointerInElement:f,overlapPercent:h,depth:y,centerDistance:E}}).sort((i,g)=>{if(!o){if(i.isPointerInElement&&g.isPointerInElement)return g.depth-i.depth;if(i.isPointerInElement!==g.isPointerInElement)return i.isPointerInElement?-1:1}return Math.abs(i.overlapPercent-g.overlapPercent)<=1?i.centerDistance-g.centerDistance:g.overlapPercent-i.overlapPercent});return[...s.map(i=>i.node),...c.map(i=>i.node)]},ot=(n,e)=>{const{pointerPosition:t,keyboard:r}=q(),a=(e==null?void 0:e.moveStep)||10;return{onKeyboardStart:s=>{var i;I(s);const c=N(n.value);(i=n.value)==null||i.blur();const p=c.x+c.width/2,v=c.y+c.height/2;t.start.value={x:p,y:v},t.current.value={x:p,y:v},t.offset.pixel.value={x:c.width/2,y:c.height/2},t.offset.percent.value={x:50,y:50}},onKeyboardMove:()=>{if(!t.current.value)return;const s=t.current.value.x,c=t.current.value.y;let p=s,v=c;r.w.value&&(v-=a),r.s.value&&(v+=a),r.a.value&&(p-=a),r.d.value&&(p+=a),t.current.value={x:p,y:v}},onKeyboardEnd:()=>{t.current.value=null,t.start.value=null,t.offset.pixel.value=null,t.offset.percent.value=null}}},lt=n=>{const e=q();return{onPointerStart:l=>{e.pointerPosition.start.value={x:l.clientX,y:l.clientY},e.pointerPosition.current.value={x:l.clientX,y:l.clientY};const{pixel:o,percent:u}=at(n.value,{x:l.clientX,y:l.clientY});e.pointerPosition.offset.pixel.value=o,e.pointerPosition.offset.percent.value=u},onPointerMove:l=>{e.pointerPosition.current.value={x:l.clientX,y:l.clientY}},onPointerEnd:()=>{e.pointerPosition.current.value=null,e.pointerPosition.start.value=null,e.pointerPosition.offset.pixel.value=null,e.pointerPosition.offset.percent.value=null}}},ut=(n,e)=>{var K,M;const t=q(),{onPointerStart:r,onPointerMove:a,onPointerEnd:l}=lt(n),{onKeyboardStart:o,onKeyboardMove:u,onKeyboardEnd:s}=ot(n,e==null?void 0:e.keyboard);let c=null;const p=b=>{var T,D;if(!b)return new Map;const C=t.selectedElementsMap.value.has(b);if(t.selectedElementsMap.value.size>0&&C){const A=new Map;return Array.from(t.selectedElementsMap.value.entries()).forEach(([R,$])=>{var B,H;A.set(R,{...$,initialHTML:((B=$.node)==null?void 0:B.outerHTML)??"",initialRect:(H=$.node)==null?void 0:H.getBoundingClientRect()})}),A}t.selectedElementsMap.value.clear();const _=t.elementsMap.value.get(b);if(!_)return new Map;const w=new Map;return w.set(b,{..._,initialHTML:((T=_.node)==null?void 0:T.outerHTML)??"",initialRect:(D=_.node)==null?void 0:D.getBoundingClientRect()}),w},v=b=>{if(!b)return{element:null,zone:null};const C=Array.isArray(b)?b:[b],_=Array.from(t.draggingElements.value.keys()),w=C.find(D=>{if(!t.visibleZones.value.has(D))return!1;const A=t.zonesMap.value.get(D);return!(!A||_.some(R=>R&&(R===A.node||U(A.node,R)))||A.groups.length&&!!Array.from(t.draggingElements.value.values()).some($=>$.groups.length?!$.groups.some(B=>A.groups.includes(B)):!1))});return w?{element:C.find(D=>t.visibleElements.value.has(D)&&t.elementsMap.value.has(D)&&!_.some(A=>A&&(A===D||U(D,A)||U(A,D)))&&(D===w||U(D,w)))||null,zone:w}:{element:null,zone:null}},i=((K=e==null?void 0:e.sensor)==null?void 0:K.setup)||it,g=b=>{var w,T,D,A,R,$,B,H,pe,he,J,ye;const C=t.hovered.element.value,_=t.hovered.zone.value;t.hovered.element.value=b.element,t.hovered.zone.value=b.zone,C&&t.hovered.element.value!==C&&((D=(T=(w=t.elementsMap.value.get(C))==null?void 0:w.events)==null?void 0:T.onLeave)==null||D.call(T,t),t.hovered.element.value&&(($=(R=(A=t.elementsMap.value.get(t.hovered.element.value))==null?void 0:A.events)==null?void 0:R.onHover)==null||$.call(R,t))),_&&t.hovered.zone.value!==_&&((pe=(H=(B=t.zonesMap.value.get(_))==null?void 0:B.events)==null?void 0:H.onLeave)==null||pe.call(H,t),t.hovered.zone.value&&((ye=(J=(he=t.zonesMap.value.get(t.hovered.zone.value))==null?void 0:he.events)==null?void 0:J.onHover)==null||ye.call(J,t)))},m=We(()=>{const b=i(t),C=v(b);g(C)},((M=e==null?void 0:e.sensor)==null?void 0:M.throttle)??0),d=()=>{m(),c=requestAnimationFrame(d)},f=()=>d(),h=()=>{c!==null&&(cancelAnimationFrame(c),c=null)};return{activate:b=>{t.draggingElements.value=p(n.value),t.draggingElements.value.forEach(C=>{var _,w;return(w=(_=C.events).onStart)==null?void 0:w.call(_,t)}),b instanceof PointerEvent?r(b):o(b),f()},track:b=>{t.draggingElements.value.forEach(C=>{var _,w;return(w=(_=C.events).onMove)==null?void 0:w.call(_,t)}),b instanceof KeyboardEvent?u():a(b)},deactivate:(b=!0)=>{var C,_;if(l(),s(),b){if(t.hovered.zone.value){const w=t.zonesMap.value.get(t.hovered.zone.value);(_=w==null?void 0:(C=w.events).onDrop)==null||_.call(C,t)}else t.draggingElements.value.forEach(w=>{var T,D;return(D=(T=w.events).onEnd)==null?void 0:D.call(T,t)});t.selectedElementsMap.value.clear()}t.draggingElements.value.clear(),t.hovered.zone.value=null,t.hovered.element.value=null,h()}}},ct=Ce(()=>{let n="",e="",t="",r=null,a=null,l=null,o=null,u=null;const{activeContainer:s}=q(),c=()=>{const g=document.body;n=g.style.userSelect,g.style.userSelect="none",window.addEventListener("contextmenu",I),window.addEventListener("selectstart",I),window.addEventListener("touchstart",I),window.addEventListener("touchmove",I)},p=()=>{const g=document.body;g.style.userSelect=n,g.style.touchAction=e,g.style.overscrollBehavior=t,window.removeEventListener("contextmenu",I),window.removeEventListener("selectstart",I),window.removeEventListener("touchstart",I),window.removeEventListener("touchmove",I)},v=()=>{r&&(document.removeEventListener("pointermove",r),r=null),a&&(document.removeEventListener("pointerup",a),a=null),l&&(l=null),o&&(document.removeEventListener("wheel",o),o=null),u&&(document.removeEventListener("keydown",u),document.removeEventListener("keypress",u),document.removeEventListener("keyup",u),u=null)};return{handleDragStart:(g,m,d)=>{v(),g.target.blur(),d!=null&&d.container&&(s.component.value=re(d.container));const{activate:f,track:h,deactivate:E}=ut(m,d);a=()=>{s.component.value=null,p(),E(!0),v()},l=()=>{s.component.value=null,p(),E(!1),v()},r=y=>h(y),o=y=>h(y),u=y=>{y.type==="keyup"&&(y.code==="Escape"&&(l==null||l()),y.code==="Enter"&&(a==null||a())),h(y)},c(),f(g),document.addEventListener("pointermove",r),document.addEventListener("pointerup",a),document.addEventListener("wheel",o),document.addEventListener("keydown",u),document.addEventListener("keypress",u),document.addEventListener("keyup",u)}}}),Le=n=>{const{id:e,elementRef:t,isDragging:r,isOvered:a,isAllowed:l,registerElement:o,unregisterElement:u}=st(n),{pointerPosition:s}=q(),{handleDragStart:c}=ct(),p=v=>c(v,t,n);return ue(o),ce(u),{pointerPosition:s,elementRef:t,isDragging:r,isOvered:a,isAllowed:l,handleDragStart:p,id:e}},dt=n=>{const{zonesMap:e,hovered:t,draggingElements:r,isDragging:a,handleDropZoneIntersection:l}=q(),o=F(null),u=L(()=>t.zone.value===o.value),s=L(()=>{if(!o.value||!a.value)return!1;const v=e.value.get(o.value);return v!=null&&v.groups.length?!Array.from(r.value.values()).some(i=>i.groups.length?!i.groups.some(g=>v.groups.includes(g)):!1):!0});return{elementRef:o,registerZone:()=>{if(!o.value)throw new Error("elementRef is not set");l("add",o.value),e.value.set(o.value,{node:o.value,groups:(n==null?void 0:n.groups)??[],events:(n==null?void 0:n.events)??{},data:(n==null?void 0:n.data)??void 0}),o.value.setAttribute("data-dnd-droppable","true")},unregisterZone:()=>{o.value&&(l("remove",o.value),e.value.delete(o.value))},isOvered:u,isAllowed:s}},ze=n=>{const{elementRef:e,registerZone:t,unregisterZone:r,isOvered:a,isAllowed:l}=dt(n);return ue(t),ce(r),{elementRef:e,isOvered:a,isAllowed:l}},vt={__name:"Container",setup(n){const{elementRef:e,pointerPosition:t,isDragging:r,draggingElements:a}=Ie(),l=L(()=>{var o,u,s,c;return{transform:`translate3d(${(((o=t.current.value)==null?void 0:o.x)??0)-(((u=t.offset.pixel.value)==null?void 0:u.x)??0)}px, ${(((s=t.current.value)==null?void 0:s.y)??0)-(((c=t.offset.pixel.value)==null?void 0:c.y)??0)}px, 0)`,zIndex:1e3,position:"fixed",top:0,left:0,transition:"0.3s cubic-bezier(0.165, 0.84, 0.44, 1)"}});return(o,u)=>(P(),j(ae,{name:"fade"},{default:O(()=>[S(r)?(P(),z("div",{key:0,ref_key:"elementRef",ref:e,style:X(l.value)},[(P(!0),z(ve,null,ge(S(a),([s,c])=>{var p,v;return P(),j(Pe(c.layer),{key:c.id,style:X({width:`${(p=c.initialRect)==null?void 0:p.width}px`,height:`${(v=c.initialRect)==null?void 0:v.height}px`})},null,8,["style"])}),128))],4)):ee("",!0)]),_:1}))}},gt=W(vt,[["__scopeId","data-v-ecad9553"]]),mt={__name:"Skeleton",props:{width:{type:String,default:"100%"},height:{type:String,default:"40px"}},setup(n){return(e,t)=>(P(),z("div",{class:"skeleton",style:X({width:n.width,height:n.height})},t[0]||(t[0]=[se("div",{class:"skeleton-shimmer"},null,-1)]),4))}},ft=W(mt,[["__scopeId","data-v-5e7b25c2"]]),pt={__name:"Draggable",emits:["start","leave","hover","move","end"],setup(n,{emit:e}){const t=e,{elementRef:r,handleDragStart:a,isDragging:l}=Le({container:re(gt),layer:re(ft),groups:["example"],events:{onStart:()=>t("start"),onLeave:()=>t("leave"),onHover:()=>t("hover"),onMove:()=>t("move"),onEnd:()=>t("end")}});return(o,u)=>(P(),z("button",{ref_key:"elementRef",ref:r,tabindex:"1",role:"button",class:fe(["draggable",{"is-dragging":S(l)}]),onPointerdown:u[0]||(u[0]=(...s)=>S(a)&&S(a)(...s)),onKeydown:u[1]||(u[1]=Me(Se((...s)=>S(a)&&S(a)(...s),["prevent"]),["space"]))},[me(o.$slots,"default",{},void 0,!0)],34))}},De=W(pt,[["__scopeId","data-v-e86240c2"]]),ht={__name:"Droppable",emits:["drop"],setup(n,{emit:e}){const t=e,{elementRef:r,isOvered:a,isAllowed:l}=ze({groups:["example"],events:{onDrop:()=>t("drop")}});return(o,u)=>(P(),z("div",{ref_key:"elementRef",ref:r,class:fe(["droppable",{"is-overed":S(a),"is-allowed":S(l)}])},[me(o.$slots,"default",{},void 0,!0)],2))}},yt=W(ht,[["__scopeId","data-v-8e709561"]]),bt={class:"dnd-demo"},Et=de({__name:"DnDDemo",setup(n){const e=F(!1);return(t,r)=>(P(),z("div",bt,[se("div",null,[G(ae,{name:"fade"},{default:O(()=>[e.value?ee("",!0):(P(),j(De,{key:0,onEnd:r[0]||(r[0]=a=>e.value=!1)},{default:O(()=>r[3]||(r[3]=[ie(" drop me in zone ")])),_:1}))]),_:1})]),G(yt,{onDrop:r[2]||(r[2]=a=>e.value=!0)},{default:O(()=>[r[5]||(r[5]=se("div",null,"drop zone",-1)),G(ae,{name:"fade"},{default:O(()=>[e.value?(P(),j(De,{key:0,onEnd:r[1]||(r[1]=a=>e.value=!1)},{default:O(()=>r[4]||(r[4]=[ie(" drop me from zone ")])),_:1})):ee("",!0)]),_:1})]),_:1}),G(rt)]))}}),kt=W(Et,[["__scopeId","data-v-aa306830"]]),wt={__name:"DraggableList",props:{index:{type:Number,required:!0},source:{type:Array,required:!0}},emits:["start","leave","hover","move","end"],setup(n,{emit:e}){const t=n,{elementRef:r,handleDragStart:a,isDragging:l,isOvered:o}=Le({groups:["list"],data:L(()=>({index:t.index,source:t.source}))});return(u,s)=>(P(),z("div",{ref_key:"elementRef",ref:r,tabindex:"1",role:"button",class:fe(["draggable",{"is-dragging":S(l),"is-overed":S(o)}]),onPointerdown:s[0]||(s[0]=(...c)=>S(a)&&S(a)(...c)),onKeydown:s[1]||(s[1]=Me(Se((...c)=>S(a)&&S(a)(...c),["prevent"]),["space"]))},[me(u.$slots,"default",{},void 0,!0)],34))}},xt=W(wt,[["__scopeId","data-v-56ac12f3"]]),_t={__name:"DnDList",setup(n){const e=F([{id:1,content:"Item 1",color:"#3eaf7c"},{id:2,content:"Item 2",color:"#42b983"},{id:3,content:"Item 3",color:"#35495e"},{id:4,content:"Item 4",color:"#41b883"},{id:5,content:"Item 5",color:"#2c3e50"}]),{elementRef:t}=ze({groups:["list"],data:L(()=>({source:e})),events:{onDrop:oe.applyTransfer}});return(r,a)=>(P(),z("div",{ref_key:"elementRef",ref:t,class:"dnd-list"},[G(Be,{name:"list"},{default:O(()=>[(P(!0),z(ve,null,ge(e.value,(l,o)=>(P(),j(xt,{key:l.id,index:o,source:e.value},{default:O(()=>[ie(Oe(l.content),1)]),_:2},1032,["index","source"]))),128))]),_:1})],512))}},St=JSON.parse(`{"title":"Vue DnD Kit","titleTemplate":"A modern, lightweight, and high-performance drag and drop library for Vue 3","description":"","frontmatter":{"layout":"home","title":"Vue DnD Kit","titleTemplate":"A modern, lightweight, and high-performance drag and drop library for Vue 3","hero":{"name":"Vue DnD Kit","text":"Drag & Drop for Vue 3","tagline":"A modern, lightweight, and high-performance drag and drop library for Vue 3","image":{"src":"https://raw.githubusercontent.com/ZiZiGY/vue-dnd-kit/master/public/logo.svg","alt":"Vue DnD Kit"},"actions":[{"theme":"brand","text":"Get Started","link":"/guide/introduction"},{"theme":"alt","text":"View on GitHub","link":"https://github.com/zizigy/vue-dnd-kit"}]},"features":[{"icon":"🚀","title":"High Performance","details":"Optimized for smooth interactions even with large lists and complex interfaces"},{"icon":"🧩","title":"Composable API","details":"Built with Vue 3's Composition API for maximum flexibility and reusability"},{"icon":"♿","title":"Accessible","details":"Full keyboard navigation and screen reader support for inclusive interfaces"},{"icon":"🔌","title":"Extensible","details":"Create custom drag overlays, sensors, and collision detection algorithms"},{"icon":"🎯","title":"Precise Control","details":"Fine-grained control over drag start, move, and drop behaviors"},{"icon":"📦","title":"Lightweight","details":"Minimal bundle size impact with no external dependencies"}]},"headers":[],"relativePath":"index.md","filePath":"index.md"}`),Dt={name:"index.md"},Ct=Object.assign(Dt,{setup(n){return(e,t)=>(P(),z("div",null,[G(kt),t[0]||(t[0]=Ee('<div class="tip custom-block"><p class="custom-block-title">Keyboard &amp; Mouse Navigation</p><p>Try interacting with the demo above:</p><p><strong>Mouse:</strong></p><ul><li>Click and drag elements with your mouse</li><li>Drop them in the target zone</li></ul><p><strong>Keyboard:</strong></p><ul><li>Use <strong>Tab</strong> to focus on the draggable element</li><li>Press <strong>Space</strong> to start dragging</li><li>Use <strong>Arrow keys</strong> to move the element</li><li>Press <strong>Enter</strong> to drop in the target zone</li><li>Press <strong>Escape</strong> to cancel dragging</li></ul><p>You can seamlessly switch between mouse and keyboard at any time during the drag operation!</p></div><h2 id="sortable-lists-made-easy" tabindex="-1">Sortable Lists Made Easy <a class="header-anchor" href="#sortable-lists-made-easy" aria-label="Permalink to &quot;Sortable Lists Made Easy&quot;">​</a></h2><p>Vue DnD Kit makes it simple to create sortable interfaces. Try reordering the items below:</p>',3)),G(_t),t[1]||(t[1]=Ee(`<h2 id="seamless-animation-support" tabindex="-1">Seamless Animation Support <a class="header-anchor" href="#seamless-animation-support" aria-label="Permalink to &quot;Seamless Animation Support&quot;">​</a></h2><p>Vue DnD Kit is designed to work perfectly with Vue&#39;s built-in transition system and third-party animation libraries:</p><ul><li><strong>Vue Transitions</strong>: Full support for <code>&lt;Transition&gt;</code> and <code>&lt;TransitionGroup&gt;</code> components</li><li><strong>GSAP Integration</strong>: Works seamlessly with GreenSock Animation Platform</li><li><strong>Motion One</strong>: Compatible with Motion One for physics-based animations</li><li><strong>CSS Animations</strong>: Easily apply CSS animations during drag operations</li><li><strong>Custom Animation Hooks</strong>: Add your own animation logic at any point in the drag lifecycle</li></ul><h2 id="ecosystem-integration" tabindex="-1">Ecosystem Integration <a class="header-anchor" href="#ecosystem-integration" aria-label="Permalink to &quot;Ecosystem Integration&quot;">​</a></h2><p>Vue DnD Kit is designed to play nicely with the Vue ecosystem and other popular libraries:</p><ul><li><strong>Pinia/Vuex</strong>: Easily integrate with state management solutions</li><li><strong>UI Libraries</strong>: Compatible with Vuetify, PrimeVue, Element Plus, and more</li><li><strong>Headless UI</strong>: Perfect companion for headless UI libraries like VueUse</li><li><strong>Tailwind CSS</strong>: Easily style your drag and drop interfaces with utility classes</li></ul><h2 id="accessibility-first" tabindex="-1">Accessibility First <a class="header-anchor" href="#accessibility-first" aria-label="Permalink to &quot;Accessibility First&quot;">​</a></h2><p>Vue DnD Kit is built with accessibility in mind. All draggable elements work seamlessly with keyboard navigation, making your interfaces accessible to everyone:</p><ul><li><strong>Tab</strong> navigation between draggable elements</li><li><strong>Space</strong> to start dragging</li><li><strong>Arrow keys</strong> to move elements</li><li><strong>Enter</strong> to drop in target zones</li><li><strong>Escape</strong> to cancel dragging operations</li></ul><p>You can seamlessly switch between mouse and keyboard interactions at any point during the drag operation, providing flexibility for all users regardless of their preferred input method.</p><p>This ensures your drag and drop interfaces are usable by people who rely on assistive technologies or prefer keyboard navigation.</p><h2 id="why-vue-dnd-kit" tabindex="-1">Why Vue DnD Kit? <a class="header-anchor" href="#why-vue-dnd-kit" aria-label="Permalink to &quot;Why Vue DnD Kit?&quot;">​</a></h2><p>Vue DnD Kit provides a modern solution for implementing drag and drop interfaces in Vue 3 applications. Unlike other libraries, it&#39;s built from the ground up with performance, accessibility, and developer experience in mind.</p><h3 id="key-features" tabindex="-1">Key Features <a class="header-anchor" href="#key-features" aria-label="Permalink to &quot;Key Features&quot;">​</a></h3><ul><li><strong>Flexible Architecture</strong>: Create simple drag and drop interfaces or complex sortable lists</li><li><strong>Keyboard Support</strong>: Full keyboard navigation for accessibility</li><li><strong>Custom Drag Overlays</strong>: Complete control over the visual appearance during drag</li><li><strong>Performant</strong>: Optimized for minimal re-renders and smooth animations</li><li><strong>TypeScript Support</strong>: Full type definitions for improved developer experience</li><li><strong>Customizable Sensors</strong>: Support for mouse, touch, and keyboard interactions</li><li><strong>Seamless Input Switching</strong>: Switch between mouse and keyboard at any time</li><li><strong>Animation Friendly</strong>: Works perfectly with Vue transitions and animation libraries</li></ul><h2 id="installation" tabindex="-1">Installation <a class="header-anchor" href="#installation" aria-label="Permalink to &quot;Installation&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># npm</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @vue-dnd-kit/core</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @vueuse/core</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># yarn</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yarn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @vue-dnd-kit/core</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @vueuse/core</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># pnpm</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @vue-dnd-kit/core</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @vueuse/core</span></span></code></pre></div><h2 id="ecosystem" tabindex="-1">Ecosystem <a class="header-anchor" href="#ecosystem" aria-label="Permalink to &quot;Ecosystem&quot;">​</a></h2><ul><li><strong>@vue-dnd-kit/core</strong>: Core functionality for drag and drop operations</li><li><strong>@vue-dnd-kit/utils</strong> (coming soon): Utility functions for common patterns</li><li><strong>@vue-dnd-kit/components</strong> (coming soon): Ready-to-use components for common use cases</li></ul><h2 id="license" tabindex="-1">License <a class="header-anchor" href="#license" aria-label="Permalink to &quot;License&quot;">​</a></h2><p><a href="https://github.com/zizigy/vue-dnd-kit/blob/main/LICENSE" target="_blank" rel="noreferrer">MIT License</a> © 2024 ZiZiGY</p>`,21))]))}});export{St as __pageData,Ct as default};
