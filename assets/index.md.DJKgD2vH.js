var Fe=Object.defineProperty;var Te=(n,e,t)=>e in n?Fe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var V=(n,e,t)=>Te(n,typeof e!="symbol"?e+"":e,t);import{ah as Re,ai as Ve,q as Ke,aj as $e,ak as Ze,al as Y,am as be,h as L,D as Z,k as M,p as T,v as ue,$ as ce,d as de,c as z,e as ee,o as P,N as X,F as ve,B as ge,b as j,H as De,an as qe,ao as re,_ as W,w as O,T as ae,j as se,r as me,Z as Se,a0 as Me,n as fe,G,a as ie,t as Oe,ap as Be,ag as Ee}from"./chunks/framework.C8RrNXG1.js";const k=class k{};V(k,"remove",(e,t)=>{if(!e||t===void 0)return;const[r]=e.splice(t,1);return r}),V(k,"insert",(e,t,r)=>{!e||t===void 0||e.splice(t,0,r)}),V(k,"move",(e,t,r,a)=>{if(!e||!r||t===void 0||a===void 0)return;const l=k.remove(e,t);k.insert(r,a,l)}),V(k,"swap",(e,t,r,a)=>{if(!e||!r||t===void 0||a===void 0)return;const l=e[t],i=r[a];e[t]=i,r[a]=l}),V(k,"copy",(e,t,r,a)=>{if(!e||t===void 0||!r||a===void 0)return;const l=e[t];k.insert(r,a,l)}),V(k,"applyTransfer",e=>{var a,l,i,u,s,c,m;const t=e.hovered.element.value,r=e.hovered.zone.value;if(t){const g=(l=(a=e.elementsMap.value.get(t))==null?void 0:a.data)==null?void 0:l.source,o=(u=(i=e.elementsMap.value.get(t))==null?void 0:i.data)==null?void 0:u.index,v=e.draggingElements.value.values().next().value,f=(s=v==null?void 0:v.data)==null?void 0:s.index,d=f!==void 0&&o!==void 0&&f>o?1:-1;Array.from(e.draggingElements.value.values()).sort((y,E)=>{var b,D;return d*((((b=y.data)==null?void 0:b.index)||0)-(((D=E.data)==null?void 0:D.index)||0))}).forEach(y=>{var E,b;return k.move((E=y.data)==null?void 0:E.source,(b=y.data)==null?void 0:b.index,g,o)})}else if(r){const g=(m=(c=e.zonesMap.value.get(r))==null?void 0:c.data)==null?void 0:m.source,o=g==null?void 0:g.length;Array.from(e.draggingElements.value.values()).sort((f,d)=>{var p,y;return(((p=d.data)==null?void 0:p.index)||0)-(((y=f.data)==null?void 0:y.index)||0)}).forEach(f=>{var d,p;return k.move((d=f.data)==null?void 0:d.source,(p=f.data)==null?void 0:p.index,g,o)})}}),V(k,"applyCopy",e=>{var a,l,i,u,s,c;const t=e.hovered.element.value,r=e.hovered.zone.value;if(t){const m=(l=(a=e.elementsMap.value.get(t))==null?void 0:a.data)==null?void 0:l.source,g=(u=(i=e.elementsMap.value.get(t))==null?void 0:i.data)==null?void 0:u.index;Array.from(e.draggingElements.value.values()).sort((v,f)=>{var d,p;return(((d=f.data)==null?void 0:d.index)||0)-(((p=v.data)==null?void 0:p.index)||0)}).forEach(v=>{var f,d;return k.copy((f=v.data)==null?void 0:f.source,(d=v.data)==null?void 0:d.index,m,g)})}else if(r){const m=(c=(s=e.zonesMap.value.get(r))==null?void 0:s.data)==null?void 0:c.source,g=m==null?void 0:m.length;Array.from(e.draggingElements.value.values()).sort((v,f)=>{var d,p;return(((d=f.data)==null?void 0:d.index)||0)-(((p=v.data)==null?void 0:p.index)||0)}).forEach(v=>{var f,d;return k.copy((f=v.data)==null?void 0:f.source,(d=v.data)==null?void 0:d.index,m,g)})}}),V(k,"applySwap",e=>{var a,l,i,u,s,c,m,g;const t=e.hovered.element.value,r=e.hovered.zone.value;if(t&&e.draggingElements.value.size===1){const o=e.draggingElements.value.values().next().value;k.swap((a=o==null?void 0:o.data)==null?void 0:a.source,(l=o==null?void 0:o.data)==null?void 0:l.index,(u=(i=e.elementsMap.value.get(t))==null?void 0:i.data)==null?void 0:u.source,(c=(s=e.elementsMap.value.get(t))==null?void 0:s.data)==null?void 0:c.index)}else if(r){const o=(g=(m=e.zonesMap.value.get(r))==null?void 0:m.data)==null?void 0:g.source,v=o==null?void 0:o.length;Array.from(e.draggingElements.value.values()).sort((d,p)=>{var y,E;return(((y=p.data)==null?void 0:y.index)||0)-(((E=d.data)==null?void 0:E.index)||0)}).forEach(d=>{var p,y;return k.move((p=d.data)==null?void 0:p.source,(y=d.data)==null?void 0:y.index,o,v)})}}),V(k,"applyRemove",e=>{Array.from(e.draggingElements.value.values()).sort((r,a)=>{var l,i;return(((l=a.data)==null?void 0:l.index)||0)-(((i=r.data)==null?void 0:i.index)||0)}).forEach(r=>{var a,l;(a=r.data)!=null&&a.source&&((l=r.data)==null?void 0:l.index)!==void 0&&k.remove(r.data.source,r.data.index)})}),V(k,"applyInsert",(e,t)=>{var l,i,u,s,c,m;const r=e.hovered.element.value,a=e.hovered.zone.value;if(r&&t.length>0){const g=(i=(l=e.elementsMap.value.get(r))==null?void 0:l.data)==null?void 0:i.source,o=(s=(u=e.elementsMap.value.get(r))==null?void 0:u.data)==null?void 0:s.index;t.forEach(v=>{k.insert(g,o,v)})}else if(a){const g=(m=(c=e.zonesMap.value.get(a))==null?void 0:c.data)==null?void 0:m.source,o=g==null?void 0:g.length;t.forEach(v=>{k.insert(g,o,v)})}});let oe=k;function He(n){return $e()?(Ze(n),!0):!1}function Ce(n){let e=!1,t;const r=Re(!0);return(...a)=>(e||(t=r.run(()=>n(...a)),e=!0),t)}const Ne=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Ge=Object.prototype.toString,Ue=n=>Ge.call(n)==="[object Object]",le=()=>{};function Ye(n,e){function t(...r){return new Promise((a,l)=>{Promise.resolve(n(()=>e.apply(this,r),{fn:e,thisArg:this,args:r})).then(a).catch(l)})}return t}function je(...n){let e=0,t,r=!0,a=le,l,i,u,s,c;!Ve(n[0])&&typeof n[0]=="object"?{delay:i,trailing:u=!0,leading:s=!0,rejectOnCancel:c=!1}=n[0]:[i,u=!0,s=!0,c=!1]=n;const m=()=>{t&&(clearTimeout(t),t=void 0,a(),a=le)};return o=>{const v=Y(i),f=Date.now()-e,d=()=>l=o();return m(),v<=0?(e=Date.now(),d()):(f>v&&(s||!r)?(e=Date.now(),d()):u&&(l=new Promise((p,y)=>{a=c?y:p,t=setTimeout(()=>{e=Date.now(),r=!0,p(d()),m()},Math.max(0,v-f))})),!s&&!t&&(t=setTimeout(()=>r=!0,v)),r=!1,l)}}function te(n){return Array.isArray(n)?n:[n]}function We(n,e=200,t=!1,r=!0,a=!1){return Ye(je(e,t,r,a),n)}function Xe(n,e,t){return Ke(n,e,{...t,immediate:!0})}const Ae=Ne?window:void 0;function Je(n){var e;const t=Y(n);return(e=t==null?void 0:t.$el)!=null?e:t}function Q(...n){const e=[],t=()=>{e.forEach(u=>u()),e.length=0},r=(u,s,c,m)=>(u.addEventListener(s,c,m),()=>u.removeEventListener(s,c,m)),a=L(()=>{const u=te(Y(n[0])).filter(s=>s!=null);return u.every(s=>typeof s!="string")?u:void 0}),l=Xe(()=>{var u,s;return[(s=(u=a.value)==null?void 0:u.map(c=>Je(c)))!=null?s:[Ae].filter(c=>c!=null),te(Y(a.value?n[1]:n[0])),te(M(a.value?n[2]:n[1])),Y(a.value?n[3]:n[2])]},([u,s,c,m])=>{if(t(),!(u!=null&&u.length)||!(s!=null&&s.length)||!(c!=null&&c.length))return;const g=Ue(m)?{...m}:m;e.push(...u.flatMap(o=>s.flatMap(v=>c.map(f=>r(o,v,f,g)))))},{flush:"post"}),i=()=>{l(),t()};return He(t),i}const Qe={ctrl:"control",command:"meta",cmd:"meta",option:"alt",up:"arrowup",down:"arrowdown",left:"arrowleft",right:"arrowright"};function et(n={}){const{reactive:e=!1,target:t=Ae,aliasMap:r=Qe,passive:a=!0,onEventFired:l=le}=n,i=be(new Set),u={toJSON(){return{}},current:i},s=e?be(u):u,c=new Set,m=new Set;function g(d,p){d in s&&(e?s[d]=p:s[d].value=p)}function o(){i.clear();for(const d of m)g(d,!1)}function v(d,p){var y,E;const b=(y=d.key)==null?void 0:y.toLowerCase(),$=[(E=d.code)==null?void 0:E.toLowerCase(),b].filter(Boolean);b&&(p?i.add(b):i.delete(b));for(const S of $)m.add(S),g(S,p);b==="meta"&&!p?(c.forEach(S=>{i.delete(S),g(S,!1)}),c.clear()):typeof d.getModifierState=="function"&&d.getModifierState("Meta")&&p&&[...i,...$].forEach(S=>c.add(S))}Q(t,"keydown",d=>(v(d,!0),l(d)),{passive:a}),Q(t,"keyup",d=>(v(d,!1),l(d)),{passive:a}),Q("blur",o,{passive:a}),Q("focus",o,{passive:a});const f=new Proxy(s,{get(d,p,y){if(typeof p!="string")return Reflect.get(d,p,y);if(p=p.toLowerCase(),p in r&&(p=r[p]),!(p in s))if(/[+_-]/.test(p)){const b=p.split(/[+_-]/g).map(D=>D.trim());s[p]=L(()=>b.map(D=>Y(f[D])).every(Boolean))}else s[p]=Z(!1);const E=Reflect.get(d,p,y);return e?Y(E):E}});return f}const q=Ce(()=>{const n=T(new Map),e=L(()=>n.value.size>0),t={component:T(null),ref:Z(null)},r=T(new Map),a=T(new Set),l=T(new Map),i=T(new Set),u=T(new Set),s=new IntersectionObserver(S=>{S.forEach(h=>u.value[h.isIntersecting?"add":"delete"](h.target))}),c=new IntersectionObserver(S=>{S.forEach(h=>i.value[h.isIntersecting?"add":"delete"](h.target))}),m=(S,h)=>{S==="add"?s.observe(h):(s.unobserve(h),u.value.delete(h))},g=(S,h)=>{S==="add"?c.observe(h):(c.unobserve(h),i.value.delete(h))},o={start:Z(null),current:Z(null),offset:{percent:Z(null),pixel:Z(null)}},{w:v,s:f,a:d,d:p,ctrl:y,shift:E,alt:b,meta:D}=et(),$={zone:Z(null),element:Z(null)};return{draggingElements:n,isDragging:e,activeContainer:t,elementsMap:r,selectedElements:a,zonesMap:l,visibleZones:i,visibleElements:u,pointerPosition:o,keyboard:{w:v,s:f,a:d,d:p,ctrl:y,shift:E,alt:b,meta:D},hovered:$,handleDragElementIntersection:m,handleDropZoneIntersection:g}}),Ie=()=>{const n=T(null),{draggingElements:e,pointerPosition:t,isDragging:r,activeContainer:a}=q();return ue(()=>{a.ref=n}),ce(()=>{a.ref.value=null}),{elementRef:n,draggingElements:e,pointerPosition:t,isDragging:r}},tt=["innerHTML"],nt=de({__name:"DefaultOverlay",setup(n){const{elementRef:e,pointerPosition:t,isDragging:r,draggingElements:a}=Ie(),l=L(()=>{var i,u,s,c;return{transform:`translate3d(${(((i=t.current.value)==null?void 0:i.x)??0)-(((u=t.offset.pixel.value)==null?void 0:u.x)??0)}px, ${(((s=t.current.value)==null?void 0:s.y)??0)-(((c=t.offset.pixel.value)==null?void 0:c.y)??0)}px, 0)`,zIndex:1e3,position:"fixed",top:0,left:0,transition:"0.3s cubic-bezier(0.165, 0.84, 0.44, 1)"}});return(i,u)=>M(r)?(P(),z("div",{key:0,ref_key:"elementRef",ref:e,style:X(l.value)},[(P(!0),z(ve,null,ge(M(a),([s,c])=>{var m,g;return P(),z("div",{key:c.id,innerHTML:c.initialHTML,style:X({width:`${(m=c.initialRect)==null?void 0:m.width}px`,height:`${(g=c.initialRect)==null?void 0:g.height}px`})},null,12,tt)}),128))],4)):ee("",!0)}}),rt=de({__name:"DragOverlay",setup(n){const{activeContainer:e}=q(),t=L(()=>e.component.value??nt);return(r,a)=>(P(),j(De(t.value)))}}),ke=(n,e)=>n.x<e.x+e.width&&n.x+n.width>e.x&&n.y<e.y+e.height&&n.y+n.height>e.y,N=n=>{if(!n)return{x:0,y:0,width:0,height:0,bottom:0,left:0,right:0,top:0};const e=n.getBoundingClientRect();return{bottom:e.bottom,left:e.left,right:e.right,top:e.top,x:e.x,y:e.y,width:e.width,height:e.height}},ne=n=>({x:n.x+n.width/2,y:n.y+n.height/2}),at=(n,e)=>{const t=N(n);return{pixel:{x:e.x-t.x,y:e.y-t.y},percent:{x:(e.x-t.x)/t.width*100,y:(e.y-t.y)/t.height*100}}},we=(n,e)=>{const t=e.x-n.x,r=e.y-n.y;return Math.sqrt(t*t+r*r)},xe=(n,e)=>{const t=Math.max(0,Math.min(n.x+n.width,e.x+e.width)-Math.max(n.x,e.x)),r=Math.max(0,Math.min(n.y+n.height,e.y+e.height)-Math.max(n.y,e.y)),a=t*r,l=n.width*n.height,i=e.width*e.height;return(a/l*100+a/i*100)/2},_e="data-vue-dnd-kit-draggable",I=n=>{n.preventDefault()},st=n=>{const{elementsMap:e,draggingElements:t,hovered:r,selectedElementsMap:a,isDragging:l,visibleElements:i,handleDragElementIntersection:u}=q(),s=T(null),c=L(()=>i.value.has(s.value)&&r.element.value===s.value),m=Z((n==null?void 0:n.id)||qe()),g=L(()=>!s.value||!i.value.has(s.value)?!1:t.value.has(s.value)),o=L(()=>{if(!s.value||!l.value||!i.value.has(s.value))return!1;const d=e.value.get(s.value);return d!=null&&d.groups.length?!Array.from(t.value.entries()).some(([p,y])=>y.groups.length?!y.groups.some(E=>d.groups.includes(E)):!1):!0});return{elementRef:s,registerElement:()=>{if(!s.value)throw new Error("ElementRef is not set");e.value.set(s.value,{node:s.value,groups:(n==null?void 0:n.groups)??[],layer:(n==null?void 0:n.layer)??null,defaultLayer:(n==null?void 0:n.layer)??null,events:(n==null?void 0:n.events)??{},data:(n==null?void 0:n.data)??null,id:m.value}),u("add",s.value),s.value.addEventListener("dragstart",I),s.value.addEventListener("drag",I),s.value.setAttribute(_e,"true"),s.value.setAttribute("draggable","false")},unregisterElement:()=>{s.value&&(e.value.delete(s.value),a.value.delete(s.value),s.value.removeEventListener("dragstart",I),s.value.removeEventListener("drag",I),s.value.removeAttribute(_e),s.value.removeAttribute("draggable"))},isDragging:g,isOvered:c,isAllowed:o,id:m}},U=(n,e)=>n?e.contains(n):!1,it=n=>{var m,g;const e=N(n.activeContainer.ref.value),t=ne(e),r=((m=n.pointerPosition.current.value)==null?void 0:m.x)??0,a=((g=n.pointerPosition.current.value)==null?void 0:g.y)??0,i=!(e&&r>=e.x&&r<=e.x+e.width&&a>=e.y&&a<=e.y+e.height),u=Array.from(n.draggingElements.value.keys()),s=Array.from(n.visibleElements.value.entries()).filter(([o,v])=>{if(!o)return!1;const f=N(o);return f&&e&&ke(f,e)}).map(([o,v])=>{const f=N(o),d=ne(f),p=r>=f.x&&r<=f.x+f.width&&a>=f.y&&a<=f.y+f.height,y=xe(f,e),E=we(t,d);let b=0;for(const[D,$]of n.visibleElements.value.entries())D!==o&&D&&o&&U(o,D)&&b++;return{element:v,node:o,isPointerInElement:p,overlapPercent:y,depth:b,centerDistance:E}}).sort((o,v)=>{if(!i){if(o.isPointerInElement&&v.isPointerInElement)return v.depth-o.depth;if(o.isPointerInElement!==v.isPointerInElement)return o.isPointerInElement?-1:1}return Math.abs(o.overlapPercent-v.overlapPercent)<=1?o.centerDistance-v.centerDistance:v.overlapPercent-o.overlapPercent}),c=Array.from(n.visibleZones.value.entries()).filter(([o,v])=>{if(!o||u.some(d=>d&&U(o,d)))return!1;const f=N(o);return f&&e&&ke(f,e)}).map(([o,v])=>{const f=N(o),d=ne(f),p=r>=f.x&&r<=f.x+f.width&&a>=f.y&&a<=f.y+f.height,y=xe(f,e),E=we(t,d);let b=0;for(const[D,$]of n.visibleZones.value.entries())D!==o&&D&&o&&U(o,D)&&b++;return{zone:v,node:o,isPointerInElement:p,overlapPercent:y,depth:b,centerDistance:E}}).sort((o,v)=>{if(!i){if(o.isPointerInElement&&v.isPointerInElement)return v.depth-o.depth;if(o.isPointerInElement!==v.isPointerInElement)return o.isPointerInElement?-1:1}return Math.abs(o.overlapPercent-v.overlapPercent)<=1?o.centerDistance-v.centerDistance:v.overlapPercent-o.overlapPercent});return[...s.map(o=>o.node),...c.map(o=>o.node)]},ot=(n,e)=>{const{pointerPosition:t,keyboard:r}=q(),a=(e==null?void 0:e.moveStep)||10;return{onKeyboardStart:s=>{var o;I(s);const c=N(n.value);(o=n.value)==null||o.blur();const m=c.x+c.width/2,g=c.y+c.height/2;t.start.value={x:m,y:g},t.current.value={x:m,y:g},t.offset.pixel.value={x:c.width/2,y:c.height/2},t.offset.percent.value={x:50,y:50}},onKeyboardMove:()=>{if(!t.current.value)return;const s=t.current.value.x,c=t.current.value.y;let m=s,g=c;r.w.value&&(g-=a),r.s.value&&(g+=a),r.a.value&&(m-=a),r.d.value&&(m+=a),t.current.value={x:m,y:g}},onKeyboardEnd:()=>{t.current.value=null,t.start.value=null,t.offset.pixel.value=null,t.offset.percent.value=null}}},lt=n=>{const e=q();return{onPointerStart:l=>{e.pointerPosition.start.value={x:l.clientX,y:l.clientY},e.pointerPosition.current.value={x:l.clientX,y:l.clientY};const{pixel:i,percent:u}=at(n.value,{x:l.clientX,y:l.clientY});e.pointerPosition.offset.pixel.value=i,e.pointerPosition.offset.percent.value=u},onPointerMove:l=>{e.pointerPosition.current.value={x:l.clientX,y:l.clientY}},onPointerEnd:()=>{e.pointerPosition.current.value=null,e.pointerPosition.start.value=null,e.pointerPosition.offset.pixel.value=null,e.pointerPosition.offset.percent.value=null}}},ut=(n,e)=>{var $,S;const t=q(),{onPointerStart:r,onPointerMove:a,onPointerEnd:l}=lt(n),{onKeyboardStart:i,onKeyboardMove:u,onKeyboardEnd:s}=ot(n,e==null?void 0:e.keyboard);let c=null;const m=h=>{var R,_;if(!h)return new Map;const C=t.selectedElements.value.has(h);if(t.selectedElements.value.size>0&&C){const A=new Map;return t.selectedElements.value.forEach(F=>{var B,H;const K=t.elementsMap.value.get(F);K&&A.set(F,{...K,initialHTML:((B=K.node)==null?void 0:B.outerHTML)??"",initialRect:(H=K.node)==null?void 0:H.getBoundingClientRect()})}),A}t.selectedElements.value.clear();const x=t.elementsMap.value.get(h);if(!x)return new Map;const w=new Map;return w.set(h,{...x,initialHTML:((R=x.node)==null?void 0:R.outerHTML)??"",initialRect:(_=x.node)==null?void 0:_.getBoundingClientRect()}),w},g=h=>{if(!h)return{element:null,zone:null};const C=Array.isArray(h)?h:[h],x=Array.from(t.draggingElements.value.keys()),w=C.find(_=>{if(!t.visibleZones.value.has(_))return!1;const A=t.zonesMap.value.get(_);return!(!A||x.some(F=>F&&(F===A.node||U(A.node,F)))||A.groups.length&&!!Array.from(t.draggingElements.value.values()).some(K=>K.groups.length?!K.groups.some(B=>A.groups.includes(B)):!1))});return w?{element:C.find(_=>t.visibleElements.value.has(_)&&t.elementsMap.value.has(_)&&!x.some(A=>A&&(A===_||U(_,A)||U(A,_)))&&(_===w||U(_,w)))||null,zone:w}:{element:null,zone:null}},o=(($=e==null?void 0:e.sensor)==null?void 0:$.setup)||it,v=h=>{var w,R,_,A,F,K,B,H,pe,he,J,ye;const C=t.hovered.element.value,x=t.hovered.zone.value;t.hovered.element.value=h.element,t.hovered.zone.value=h.zone,C&&t.hovered.element.value!==C&&((_=(R=(w=t.elementsMap.value.get(C))==null?void 0:w.events)==null?void 0:R.onLeave)==null||_.call(R,t),t.hovered.element.value&&((K=(F=(A=t.elementsMap.value.get(t.hovered.element.value))==null?void 0:A.events)==null?void 0:F.onHover)==null||K.call(F,t))),x&&t.hovered.zone.value!==x&&((pe=(H=(B=t.zonesMap.value.get(x))==null?void 0:B.events)==null?void 0:H.onLeave)==null||pe.call(H,t),t.hovered.zone.value&&((ye=(J=(he=t.zonesMap.value.get(t.hovered.zone.value))==null?void 0:he.events)==null?void 0:J.onHover)==null||ye.call(J,t)))},f=We(()=>{const h=o(t),C=g(h);v(C)},((S=e==null?void 0:e.sensor)==null?void 0:S.throttle)??0),d=()=>{f(),c=requestAnimationFrame(d)},p=()=>d(),y=()=>{c!==null&&(cancelAnimationFrame(c),c=null)};return{activate:h=>{t.draggingElements.value=m(n.value),t.draggingElements.value.forEach(C=>{var x,w;return(w=(x=C.events).onStart)==null?void 0:w.call(x,t)}),h instanceof PointerEvent?r(h):i(h),p()},track:h=>{t.draggingElements.value.forEach(C=>{var x,w;return(w=(x=C.events).onMove)==null?void 0:w.call(x,t)}),h instanceof KeyboardEvent?u():a(h)},deactivate:(h=!0)=>{var C,x;if(l(),s(),h){if(t.hovered.zone.value){const w=t.zonesMap.value.get(t.hovered.zone.value);(x=w==null?void 0:(C=w.events).onDrop)==null||x.call(C,t)}else t.draggingElements.value.forEach(w=>{var R,_;return(_=(R=w.events).onEnd)==null?void 0:_.call(R,t)});t.selectedElements.value.clear()}t.draggingElements.value.clear(),t.hovered.zone.value=null,t.hovered.element.value=null,y()}}},ct=Ce(()=>{let n="",e="",t="",r=null,a=null,l=null,i=null,u=null;const{activeContainer:s}=q(),c=()=>{const v=document.body;n=v.style.userSelect,v.style.userSelect="none",window.addEventListener("contextmenu",I),window.addEventListener("selectstart",I),window.addEventListener("touchstart",I),window.addEventListener("touchmove",I)},m=()=>{const v=document.body;v.style.userSelect=n,v.style.touchAction=e,v.style.overscrollBehavior=t,window.removeEventListener("contextmenu",I),window.removeEventListener("selectstart",I),window.removeEventListener("touchstart",I),window.removeEventListener("touchmove",I)},g=()=>{r&&(document.removeEventListener("pointermove",r),r=null),a&&(document.removeEventListener("pointerup",a),a=null),l&&(l=null),i&&(document.removeEventListener("wheel",i),i=null),u&&(document.removeEventListener("keydown",u),document.removeEventListener("keypress",u),document.removeEventListener("keyup",u),u=null)};return{handleDragStart:(v,f,d)=>{g(),v.target.blur(),d!=null&&d.container&&(s.component.value=re(d.container));const{activate:p,track:y,deactivate:E}=ut(f,d);a=()=>{s.component.value=null,m(),E(!0),g()},l=()=>{s.component.value=null,m(),E(!1),g()},r=b=>y(b),i=b=>y(b),u=b=>{b.type==="keyup"&&(b.code==="Escape"&&(l==null||l()),b.code==="Enter"&&(a==null||a())),y(b)},c(),p(v),document.addEventListener("pointermove",r),document.addEventListener("pointerup",a),document.addEventListener("wheel",i),document.addEventListener("keydown",u),document.addEventListener("keypress",u),document.addEventListener("keyup",u)}}}),Le=n=>{const{id:e,elementRef:t,isDragging:r,isOvered:a,isAllowed:l,registerElement:i,unregisterElement:u}=st(n),{pointerPosition:s}=q(),{handleDragStart:c}=ct(),m=g=>c(g,t,n);return ue(i),ce(u),{pointerPosition:s,elementRef:t,isDragging:r,isOvered:a,isAllowed:l,handleDragStart:m,id:e}},dt=n=>{const{zonesMap:e,hovered:t,draggingElements:r,isDragging:a,handleDropZoneIntersection:l}=q(),i=T(null),u=L(()=>t.zone.value===i.value),s=L(()=>{if(!i.value||!a.value)return!1;const g=e.value.get(i.value);return g!=null&&g.groups.length?!Array.from(r.value.values()).some(o=>o.groups.length?!o.groups.some(v=>g.groups.includes(v)):!1):!0});return{elementRef:i,registerZone:()=>{if(!i.value)throw new Error("elementRef is not set");l("add",i.value),e.value.set(i.value,{node:i.value,groups:(n==null?void 0:n.groups)??[],events:(n==null?void 0:n.events)??{},data:(n==null?void 0:n.data)??void 0}),i.value.setAttribute("data-dnd-droppable","true")},unregisterZone:()=>{i.value&&(l("remove",i.value),e.value.delete(i.value))},isOvered:u,isAllowed:s}},ze=n=>{const{elementRef:e,registerZone:t,unregisterZone:r,isOvered:a,isAllowed:l}=dt(n);return ue(t),ce(r),{elementRef:e,isOvered:a,isAllowed:l}},vt={__name:"Container",setup(n){const{elementRef:e,pointerPosition:t,isDragging:r,draggingElements:a}=Ie(),l=L(()=>{var i,u,s,c;return{transform:`translate3d(${(((i=t.current.value)==null?void 0:i.x)??0)-(((u=t.offset.pixel.value)==null?void 0:u.x)??0)}px, ${(((s=t.current.value)==null?void 0:s.y)??0)-(((c=t.offset.pixel.value)==null?void 0:c.y)??0)}px, 0)`,zIndex:1e3,position:"fixed",top:0,left:0,transition:"0.3s cubic-bezier(0.165, 0.84, 0.44, 1)"}});return(i,u)=>(P(),j(ae,{name:"fade"},{default:O(()=>[M(r)?(P(),z("div",{key:0,ref_key:"elementRef",ref:e,style:X(l.value)},[(P(!0),z(ve,null,ge(M(a),([s,c])=>{var m,g;return P(),j(De(c.layer),{key:c.id,style:X({width:`${(m=c.initialRect)==null?void 0:m.width}px`,height:`${(g=c.initialRect)==null?void 0:g.height}px`})},null,8,["style"])}),128))],4)):ee("",!0)]),_:1}))}},gt=W(vt,[["__scopeId","data-v-ecad9553"]]),mt={__name:"Skeleton",props:{width:{type:String,default:"100%"},height:{type:String,default:"40px"}},setup(n){return(e,t)=>(P(),z("div",{class:"skeleton",style:X({width:n.width,height:n.height})},t[0]||(t[0]=[se("div",{class:"skeleton-shimmer"},null,-1)]),4))}},ft=W(mt,[["__scopeId","data-v-5e7b25c2"]]),pt={__name:"Draggable",emits:["start","leave","hover","move","end"],setup(n,{emit:e}){const t=e,{elementRef:r,handleDragStart:a,isDragging:l}=Le({container:re(gt),layer:re(ft),groups:["example"],events:{onStart:()=>t("start"),onLeave:()=>t("leave"),onHover:()=>t("hover"),onMove:()=>t("move"),onEnd:()=>t("end")}});return(i,u)=>(P(),z("button",{ref_key:"elementRef",ref:r,tabindex:"1",role:"button",class:fe(["draggable",{"is-dragging":M(l)}]),onPointerdown:u[0]||(u[0]=(...s)=>M(a)&&M(a)(...s)),onKeydown:u[1]||(u[1]=Se(Me((...s)=>M(a)&&M(a)(...s),["prevent"]),["space"]))},[me(i.$slots,"default",{},void 0,!0)],34))}},Pe=W(pt,[["__scopeId","data-v-e86240c2"]]),ht={__name:"Droppable",emits:["drop"],setup(n,{emit:e}){const t=e,{elementRef:r,isOvered:a,isAllowed:l}=ze({groups:["example"],events:{onDrop:()=>t("drop")}});return(i,u)=>(P(),z("div",{ref_key:"elementRef",ref:r,class:fe(["droppable",{"is-overed":M(a),"is-allowed":M(l)}])},[me(i.$slots,"default",{},void 0,!0)],2))}},yt=W(ht,[["__scopeId","data-v-8e709561"]]),bt={class:"dnd-demo"},Et=de({__name:"DnDDemo",setup(n){const e=T(!1);return(t,r)=>(P(),z("div",bt,[se("div",null,[G(ae,{name:"fade"},{default:O(()=>[e.value?ee("",!0):(P(),j(Pe,{key:0,onEnd:r[0]||(r[0]=a=>e.value=!1)},{default:O(()=>r[3]||(r[3]=[ie(" drop me in zone ")])),_:1}))]),_:1})]),G(yt,{onDrop:r[2]||(r[2]=a=>e.value=!0)},{default:O(()=>[r[5]||(r[5]=se("div",null,"drop zone",-1)),G(ae,{name:"fade"},{default:O(()=>[e.value?(P(),j(Pe,{key:0,onEnd:r[1]||(r[1]=a=>e.value=!1)},{default:O(()=>r[4]||(r[4]=[ie(" drop me from zone ")])),_:1})):ee("",!0)]),_:1})]),_:1}),G(rt)]))}}),kt=W(Et,[["__scopeId","data-v-aa306830"]]),wt={__name:"DraggableList",props:{index:{type:Number,required:!0},source:{type:Array,required:!0}},emits:["start","leave","hover","move","end"],setup(n,{emit:e}){const t=n,{elementRef:r,handleDragStart:a,isDragging:l,isOvered:i}=Le({groups:["list"],data:L(()=>({index:t.index,source:t.source}))});return(u,s)=>(P(),z("div",{ref_key:"elementRef",ref:r,tabindex:"1",role:"button",class:fe(["draggable",{"is-dragging":M(l),"is-overed":M(i)}]),onPointerdown:s[0]||(s[0]=(...c)=>M(a)&&M(a)(...c)),onKeydown:s[1]||(s[1]=Se(Me((...c)=>M(a)&&M(a)(...c),["prevent"]),["space"]))},[me(u.$slots,"default",{},void 0,!0)],34))}},xt=W(wt,[["__scopeId","data-v-56ac12f3"]]),_t={__name:"DnDList",setup(n){const e=T([{id:1,content:"Item 1",color:"#3eaf7c"},{id:2,content:"Item 2",color:"#42b983"},{id:3,content:"Item 3",color:"#35495e"},{id:4,content:"Item 4",color:"#41b883"},{id:5,content:"Item 5",color:"#2c3e50"}]),{elementRef:t}=ze({groups:["list"],data:L(()=>({source:e})),events:{onDrop:oe.applyTransfer}});return(r,a)=>(P(),z("div",{ref_key:"elementRef",ref:t,class:"dnd-list"},[G(Be,{name:"list"},{default:O(()=>[(P(!0),z(ve,null,ge(e.value,(l,i)=>(P(),j(xt,{key:l.id,index:i,source:e.value},{default:O(()=>[ie(Oe(l.content),1)]),_:2},1032,["index","source"]))),128))]),_:1})],512))}},Mt=JSON.parse(`{"title":"Vue DnD Kit","titleTemplate":"A modern, lightweight, and high-performance drag and drop library for Vue 3","description":"","frontmatter":{"layout":"home","title":"Vue DnD Kit","titleTemplate":"A modern, lightweight, and high-performance drag and drop library for Vue 3","hero":{"name":"Vue DnD Kit","text":"Drag & Drop for Vue 3","tagline":"A modern, lightweight, and high-performance drag and drop library for Vue 3","image":{"src":"https://raw.githubusercontent.com/ZiZiGY/vue-dnd-kit/master/public/logo.svg","alt":"Vue DnD Kit"},"actions":[{"theme":"brand","text":"Get Started","link":"/guide/introduction"},{"theme":"alt","text":"View on GitHub","link":"https://github.com/zizigy/vue-dnd-kit"}]},"features":[{"icon":"ðŸš€","title":"High Performance","details":"Optimized for smooth interactions even with large lists and complex interfaces"},{"icon":"ðŸ§©","title":"Composable API","details":"Built with Vue 3's Composition API for maximum flexibility and reusability"},{"icon":"â™¿","title":"Accessible","details":"Full keyboard navigation and screen reader support for inclusive interfaces"},{"icon":"ðŸ”Œ","title":"Extensible","details":"Create custom drag overlays, sensors, and collision detection algorithms"},{"icon":"ðŸŽ¯","title":"Precise Control","details":"Fine-grained control over drag start, move, and drop behaviors"},{"icon":"ðŸ“¦","title":"Lightweight","details":"Minimal bundle size impact with no external dependencies"}]},"headers":[],"relativePath":"index.md","filePath":"index.md"}`),Pt={name:"index.md"},Ct=Object.assign(Pt,{setup(n){return(e,t)=>(P(),z("div",null,[G(kt),t[0]||(t[0]=Ee('<div class="tip custom-block"><p class="custom-block-title">Keyboard &amp; Mouse Navigation</p><p>Try interacting with the demo above:</p><p><strong>Mouse:</strong></p><ul><li>Click and drag elements with your mouse</li><li>Drop them in the target zone</li></ul><p><strong>Keyboard:</strong></p><ul><li>Use <strong>Tab</strong> to focus on the draggable element</li><li>Press <strong>Space</strong> to start dragging</li><li>Use <strong>Arrow keys</strong> to move the element</li><li>Press <strong>Enter</strong> to drop in the target zone</li><li>Press <strong>Escape</strong> to cancel dragging</li></ul><p>You can seamlessly switch between mouse and keyboard at any time during the drag operation!</p></div><h2 id="sortable-lists-made-easy" tabindex="-1">Sortable Lists Made Easy <a class="header-anchor" href="#sortable-lists-made-easy" aria-label="Permalink to &quot;Sortable Lists Made Easy&quot;">â€‹</a></h2><p>Vue DnD Kit makes it simple to create sortable interfaces. Try reordering the items below:</p>',3)),G(_t),t[1]||(t[1]=Ee(`<h2 id="seamless-animation-support" tabindex="-1">Seamless Animation Support <a class="header-anchor" href="#seamless-animation-support" aria-label="Permalink to &quot;Seamless Animation Support&quot;">â€‹</a></h2><p>Vue DnD Kit is designed to work perfectly with Vue&#39;s built-in transition system and third-party animation libraries:</p><ul><li><strong>Vue Transitions</strong>: Full support for <code>&lt;Transition&gt;</code> and <code>&lt;TransitionGroup&gt;</code> components</li><li><strong>GSAP Integration</strong>: Works seamlessly with GreenSock Animation Platform</li><li><strong>Motion One</strong>: Compatible with Motion One for physics-based animations</li><li><strong>CSS Animations</strong>: Easily apply CSS animations during drag operations</li><li><strong>Custom Animation Hooks</strong>: Add your own animation logic at any point in the drag lifecycle</li></ul><h2 id="ecosystem-integration" tabindex="-1">Ecosystem Integration <a class="header-anchor" href="#ecosystem-integration" aria-label="Permalink to &quot;Ecosystem Integration&quot;">â€‹</a></h2><p>Vue DnD Kit is designed to play nicely with the Vue ecosystem and other popular libraries:</p><ul><li><strong>Pinia/Vuex</strong>: Easily integrate with state management solutions</li><li><strong>UI Libraries</strong>: Compatible with Vuetify, PrimeVue, Element Plus, and more</li><li><strong>Headless UI</strong>: Perfect companion for headless UI libraries like VueUse</li><li><strong>Tailwind CSS</strong>: Easily style your drag and drop interfaces with utility classes</li></ul><h2 id="accessibility-first" tabindex="-1">Accessibility First <a class="header-anchor" href="#accessibility-first" aria-label="Permalink to &quot;Accessibility First&quot;">â€‹</a></h2><p>Vue DnD Kit is built with accessibility in mind. All draggable elements work seamlessly with keyboard navigation, making your interfaces accessible to everyone:</p><ul><li><strong>Tab</strong> navigation between draggable elements</li><li><strong>Space</strong> to start dragging</li><li><strong>Arrow keys</strong> to move elements</li><li><strong>Enter</strong> to drop in target zones</li><li><strong>Escape</strong> to cancel dragging operations</li></ul><p>You can seamlessly switch between mouse and keyboard interactions at any point during the drag operation, providing flexibility for all users regardless of their preferred input method.</p><p>This ensures your drag and drop interfaces are usable by people who rely on assistive technologies or prefer keyboard navigation.</p><h2 id="why-vue-dnd-kit" tabindex="-1">Why Vue DnD Kit? <a class="header-anchor" href="#why-vue-dnd-kit" aria-label="Permalink to &quot;Why Vue DnD Kit?&quot;">â€‹</a></h2><p>Vue DnD Kit provides a modern solution for implementing drag and drop interfaces in Vue 3 applications. Unlike other libraries, it&#39;s built from the ground up with performance, accessibility, and developer experience in mind.</p><h3 id="key-features" tabindex="-1">Key Features <a class="header-anchor" href="#key-features" aria-label="Permalink to &quot;Key Features&quot;">â€‹</a></h3><ul><li><strong>Flexible Architecture</strong>: Create simple drag and drop interfaces or complex sortable lists</li><li><strong>Keyboard Support</strong>: Full keyboard navigation for accessibility</li><li><strong>Custom Drag Overlays</strong>: Complete control over the visual appearance during drag</li><li><strong>Performant</strong>: Optimized for minimal re-renders and smooth animations</li><li><strong>TypeScript Support</strong>: Full type definitions for improved developer experience</li><li><strong>Customizable Sensors</strong>: Support for mouse, touch, and keyboard interactions</li><li><strong>Seamless Input Switching</strong>: Switch between mouse and keyboard at any time</li><li><strong>Animation Friendly</strong>: Works perfectly with Vue transitions and animation libraries</li></ul><h2 id="installation" tabindex="-1">Installation <a class="header-anchor" href="#installation" aria-label="Permalink to &quot;Installation&quot;">â€‹</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># npm</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @vue-dnd-kit/core</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @vueuse/core</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># yarn</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yarn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @vue-dnd-kit/core</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @vueuse/core</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># pnpm</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @vue-dnd-kit/core</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @vueuse/core</span></span></code></pre></div><h2 id="ecosystem" tabindex="-1">Ecosystem <a class="header-anchor" href="#ecosystem" aria-label="Permalink to &quot;Ecosystem&quot;">â€‹</a></h2><ul><li><strong>@vue-dnd-kit/core</strong>: Core functionality for drag and drop operations</li><li><strong>@vue-dnd-kit/utils</strong> (coming soon): Utility functions for common patterns</li><li><strong>@vue-dnd-kit/components</strong> (coming soon): Ready-to-use components for common use cases</li></ul><h2 id="license" tabindex="-1">License <a class="header-anchor" href="#license" aria-label="Permalink to &quot;License&quot;">â€‹</a></h2><p><a href="https://github.com/zizigy/vue-dnd-kit/blob/main/LICENSE" target="_blank" rel="noreferrer">MIT License</a> Â© 2024 ZiZiGY</p>`,21))]))}});export{Mt as __pageData,Ct as default};
